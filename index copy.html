<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Course Index</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        /* --------- ACTIVE HIGHLIGHTS --------- */
        .active-page {
            @apply bg-blue-100 text-blue-800 font-semibold rounded;
        }

        .active-summary {
            @apply text-blue-600 font-semibold;
            /* course / section summary highlight */
        }

        /* custom scrollbar for sidebar */
        #sidebar::-webkit-scrollbar {
            width: 6px;
        }

        #sidebar::-webkit-scrollbar-track {
            background: transparent;
        }

        #sidebar::-webkit-scrollbar-thumb {
            background: rgb(199 210 254);
            /* indigo-200 */
            border-radius: 3px;
        }

        /* Ensure sidebar takes full height */
        #sidebar {
            height: 100vh;
        }
    </style>
</head>

<body class="h-screen flex overflow-hidden bg-gray-50 font-sans antialiased">
    <!-- Sidebar (left) -->
    <aside id="sidebar" class="w-72 bg-white border-r overflow-y-auto">
        <!-- brand / search -->
        <div class="sticky top-0 z-10 bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-4 shadow">
            <h1 class="text-lg font-bold tracking-wide">Course Library</h1>
        </div>
        <div class="p-4" id="sidebarContent"></div>
    </aside>

    <!-- Main content area -->
    <div class="flex-1 flex flex-col">
        <!-- Top bar -->
        <header
            class="sticky top-0 z-10 bg-white/70 backdrop-blur border-b px-6 py-3 flex items-center justify-between">
            <h2 id="pageTitle" class="text-lg font-medium text-gray-800 truncate">Select a lesson from the sidebar</h2>
        </header>

        <!-- iframe -->
        <iframe id="contentFrame" title="Course Content" class="flex-1 w-full bg-white"></iframe>

        <!-- Navigation bar -->
        <div class="p-4 bg-gray-100 border-t flex justify-between gap-2">
            <button id="prevBtn"
                class="px-4 py-2 rounded border bg-white shadow-sm disabled:opacity-40 disabled:cursor-not-allowed">‚¨ÖÔ∏è
                Previous</button>
            <button id="nextBtn"
                class="px-4 py-2 rounded border bg-white shadow-sm disabled:opacity-40 disabled:cursor-not-allowed">Next
                ‚û°Ô∏è</button>
        </div>
    </div>

    <script>
        // ---------- DATA -------------------------------------------
        const courses = [
            {
                title: "AI Fundamentals",
                sections: [
                    {
                        title: "Getting Started",
                        pages: [
                            { title: "üòÉ Welcome", url: "modules/AI/iframes/welcome.html" },
                            { title: "üìö All About Your Course", url: "modules/AI/iframes/All_About_Your_Course.html" },
                            { title: "‚ö°Ô∏è A snapshot in time", url: "modules/AI/iframes/A_snapshot_in_time.html" },
                        ],
                    },
                    {
                        title: "Section 1: What is AI?",
                        pages: [
                            { title: "Section 1 Introduction", url: "modules/AI/iframes/Section_1.html" },
                            { title: "AI in everyday life", url: "modules/AI/iframes/AI_in_everday_life.html" },
                            { title: "What is intelligence?", url: "modules/AI/iframes/What_is_intelligence.html" },
                            { title: "Activity: What is intelligence?", url: "modules/AI/iframes/Activity_What_is_intelligence.html" },
                            { title: "Activity: A scale of intelligence", url: "modules/AI/iframes/Scale_of_intelligence.html" },
                            { title: "A brief history lesson", url: "modules/AI/iframes/Brief_history_lesson.html" },
                            { title: "The AI effect", url: "modules/AI/iframes/The_AI_effect.html" },
                        ],
                    },
                    {
                        title: "Section 2: Types of AI",
                        pages: [
                            { title: "Section 2 Introduction", url: "modules/AI/iframes/Section_2.html" },
                            { title: "What are algorithms?", url: "modules/AI/iframes/What_are_algorithms.html" },
                            { title: "Classical (symbolic) AIs", url: "modules/AI/iframes/Classical_and_symbolic_AI.html" },
                            { title: "Taking inspiration from nature", url: "modules/AI/iframes/Taking_inspiration_from_nature.html" },
                            { title: "Neural networks fundamentals", url: "modules/AI/iframes/Neural_networks_intro_(light theme).html" },
                            { title: "The main types of neural networks", url: "modules/AI/iframes/The_main_types_of_neural_networks.html" },
                            { title: "Neural Networks Drag and Drop", url: "modules/AI/iframes/Neural_Networks_Drag_and_Drop.html" },
                            { title: "Machine learning", url: "modules/AI/iframes/Machine_learning.html" },
                        ],
                    },
                    {
                        title: "Section 3: Conversational AI",
                        pages: [
                            { title: "Section 3 Introduction", url: "modules/AI/iframes/Section_3.html" },
                            { title: "Large language models (LLMs)", url: "modules/AI/iframes/Large_language_model.html" },
                            { title: "The big three of '23", url: "modules/AI/iframes/The_big_three_of.html" },
                            { title: "Hallucinations", url: "modules/AI/iframes/Hallucinations.html" },
                            { title: "Connected conversational AIs", url: "modules/AI/iframes/Connected_conversational_AIs.html" },
                            { title: "The bootstrap problem", url: "modules/AI/iframes/The_bootstrap_problem.html" },
                        ],
                    },
                    {
                        title: "Section 4: Prompt Engineering",
                        pages: [
                            { title: "Section 4 Introduction", url: "modules/AI/iframes/Section_4.html" },
                            { title: "Detail and refinement", url: "modules/AI/iframes/Detail_and_refinement.html" },
                            { title: "Simulation and simulacra", url: "modules/AI/iframes/Simulation_and_simulacra.html" },
                            { title: "Activity: Simulation and simulacra", url: "modules/AI/iframes/Activity:Simulation_and_simulacra.html" },
                            { title: "Prompts for learning", url: "modules/AI/iframes/Prompts_for_learning.html" },
                            { title: "Image generation", url: "modules/AI/iframes/Image_generation.html" },
                            { title: "What else can an AI generate?", url: "modules/AI/iframes/What_else_can_an_AI_generate.html" },
                        ],
                    },
                    {
                        title: "Section 5: Society and AI",
                        pages: [
                            { title: "Section 5 Introduction", url: "modules/AI/iframes/Section_5.html" },
                            { title: "Inclusion and accessibility", url: "modules/AI/iframes/Inclusion_and_accessibility.html" },
                            { title: "Healthcare, finance and cybersecurity", url: "modules/AI/iframes/Healthcare_finance_and_cybersecurity.html" },
                            { title: "Bias", url: "modules/AI/iframes/Bias.html" },
                            { title: "Ethics and Alignment", url: "modules/AI/iframes/Ethics_and_Alignment.html" },
                            { title: "Fake news and deepfakes", url: "modules/AI/iframes/" },
                            { title: "Safety and responsibility", url: "modules/AI/iframes/" },
                        ],
                    },
                    {
                        title: "Section 6: The Future of AI",
                        pages: [
                            { title: "Section 6 Introduction", url: "modules/AI/iframes/" },
                            { title: "Where are we on the sigmoid curve?", url: "modules/AI/iframes/" },
                            { title: "Jobs and intellectual property", url: "modules/AI/iframes/" },
                            { title: "Artificial general intelligence (AGI)", url: "modules/AI/iframes/" },
                            { title: "Existential threat!?", url: "modules/AI/iframes/" },
                            { title: "It all comes down to this...", url: "modules/AI/iframes/" },
                        ],
                    },
                ],
            },
            {
                title: "Applying for University",
                sections: [
                    {
                        title: "Getting Started",
                        pages: [
                            { title: "üòÉ Welcome", url: "modules/Apply for University/iframes/" },
                            { title: "üìö All About Your Course", url: "modules/Apply for University/iframes/" },
                        ],
                    },
                    {
                        title: "Section 1: Planning your Application",
                        pages: [
                            { title: "What's in this Section?", url: "modules/Apply_for_University/iframes/" },
                            { title: "Your Timeline", url: "modules/Apply_for_University/iframes/" },
                            { title: "Managing your Time", url: "modules/Apply_for_University/iframes/" },
                            { title: "Identifying your Values", url: "modules/Apply_for_University/iframes/" },
                            { title: "Funding for University", url: "modules/Apply_for_University/iframes/" },
                            { title: "Your University Application", url: "modules/Apply_for_University/iframes/" },
                            { title: "Reflect on your Learning", url: "modules/Apply_for_University/iframes/" },
                            { title: "End of Section", url: "modules/Apply_for_University/iframes/" },
                            { title: "Section 1 Student Feedback", url: "modules/Apply_for_University/iframes/" },
                        ],
                    },
                    {
                        title: "Section 2: Choosing your Subject",
                        pages: [
                            { title: "What's in this Section?", url: "modules/Apply_for_University/iframes/" },
                            { title: "Choosing your Subject 1", url: "modules/Apply_for_University/iframes/" },
                            { title: "Undiscovered Subjects", url: "modules/Apply_for_University/iframes/" },
                            { title: "Researching Courses", url: "modules/Apply_for_University/iframes/" },
                            { title: "Choosing your Subject 2", url: "modules/Apply_for_University/iframes/" },
                            { title: "Your University Application", url: "modules/Apply_for_University/iframes/" },
                            { title: "Reflect on your Learning", url: "modules/Apply_for_University/iframes/" },
                            { title: "End of Section", url: "modules/Apply_for_University/iframes/" },
                            { title: "Section 2 Student Feedback", url: "modules/Apply_for_University/iframes/" },
                        ],
                    },
                    {
                        title: "Section 3: Choosing Universities",
                        pages: [
                            { title: "What's in this Section?", url: "modules/Apply_for_University/iframes/" },
                            { title: "Other English-speaking Universities", url: "modules/Apply_for_University/iframes/" },
                            { title: "Dispelling Myths", url: "modules/Apply_for_University/iframes/" },
                            { title: "Different Types of UK University", url: "modules/Apply_for_University/iframes/" },
                            { title: "Choosing your University", url: "modules/Apply_for_University/iframes/" },
                            { title: "Your University Application", url: "modules/Apply_for_University/iframes/" },
                            { title: "Reflect on your Learning", url: "modules/Apply_for_University/iframes/" },
                            { title: "End of Course Summary", url: "modules/Apply_for_University/iframes/" },
                            { title: "Section 3 Student Feedback", url: "modules/Apply_for_University/iframes/" },
                        ],
                    },
                    {
                        title: "End of Course Assessment Test",
                        pages: [
                            { title: "End of Course Assessment Test", url: "modules/Apply_for_University/iframes/" },
                        ],
                    },
                    {
                        title: "Summing up",
                        pages: [
                            { title: "Understanding SMART Objectives", url: "modules/Apply_for_University/iframes/" },
                            { title: "Your Personal Development", url: "modules/Apply_for_University/iframes/" },
                        ],
                    },
                ],
            },
            {
                title: "Coding Games with Python",
                sections: [
                    {
                        title: "Getting Started",
                        pages: [
                            { title: "üòÉ Welcome", url: "modules/Coding_Games_with_Python/iframes/" },
                            { title: "üìö All About Your Course", url: "modules/Coding_Games_with_Python/iframes/" },
                            { title: "‚úÖ Check your Coding skills", url: "modules/Coding_Games_with_Python/iframes/" },
                            { title: "üèÜ Course Achievements", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 1: What is Python?",
                        pages: [
                            { title: "Section 1 Introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                            { title: "Python Concepts", url: "modules/Coding_Games_with_Python/iframes/" },
                            { title: "Scoolcode Introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Coding Task",
                        pages: [
                            { title: "Coding task introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 1 Quiz",
                        pages: [
                            { title: "Section 1 Quiz", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 1 Reflection",
                        pages: [
                            { title: "Section 1 Reflection", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 1 Summary",
                        pages: [
                            { title: "Section 1 Summary", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Extension: Sandbox mode",
                        pages: [
                            { title: "Introducing Sandbox mode", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 2: Conditionals",
                        pages: [
                            { title: "Section 2 Introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                            { title: "Algorithms", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Coding Task",
                        pages: [
                            { title: "Coding task introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 2 Quiz",
                        pages: [
                            { title: "Section 2 Quiz", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 2 Reflection",
                        pages: [
                            { title: "Section 2 Reflection", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 2 Summary",
                        pages: [
                            { title: "Section 2 Summary", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Extension: Sandbox mode",
                        pages: [
                            { title: "Introducing Sandbox mode", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 3: 'For' Loops",
                        pages: [
                            { title: "Section 3 Introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Coding Task",
                        pages: [
                            { title: "Coding task introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 3 Quiz",
                        pages: [
                            { title: "Section 3 Quiz", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 3 Reflection",
                        pages: [
                            { title: "Section 3 Reflection", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 3 Summary",
                        pages: [
                            { title: "Section 3 Summary", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Extension: Sandbox mode",
                        pages: [
                            { title: "Introducing Sandbox mode", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 4: 'While' Loops",
                        pages: [
                            { title: "Section 4 Introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Coding Task 1",
                        pages: [
                            { title: "Coding task introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Coding Task 2",
                        pages: [
                            { title: "Coding task introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 4 Quiz",
                        pages: [
                            { title: "Section 4 Quiz", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 4 Reflection",
                        pages: [
                            { title: "Section 4 Reflection", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 4 Summary",
                        pages: [
                            { title: "Section 4 Summary", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Extension: Sandbox mode",
                        pages: [
                            { title: "Introducing Sandbox mode", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 5: Variables",
                        pages: [
                            { title: "Section 5 Introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Coding Task",
                        pages: [
                            { title: "Coding task introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 5 Quiz",
                        pages: [
                            { title: "Section 5 Quiz", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 5 Reflection",
                        pages: [
                            { title: "Section 5 Reflection", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 5 Summary",
                        pages: [
                            { title: "Section 5 Summary", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Extension: Sandbox mode",
                        pages: [
                            { title: "Introducing Sandbox mode", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 6: Python and AI",
                        pages: [
                            { title: "Section 6 Introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                            { title: "Basic AI concepts", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Coding Task",
                        pages: [
                            { title: "Coding task introduction", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 6 Quiz",
                        pages: [
                            { title: "Section 6 Quiz", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Section 6 Reflection",
                        pages: [
                            { title: "Section 6 Reflection", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Check your skills again",
                        pages: [
                            { title: "Check your skills again", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Course Summary",
                        pages: [
                            { title: "Course Summary", url: "modules/Coding_Games_with_Python/iframes/" },
                            { title: "Your Course Certificate", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                    {
                        title: "Extension: Sandbox mode",
                        pages: [
                            { title: "Introducing Sandbox mode", url: "modules/Coding_Games_with_Python/iframes/" },
                        ],
                    },
                ],
            },
            {
                title: "Creative Problem Solving",
                sections: [
                    {
                        title: "Getting Started",
                        pages: [
                            { title: "üòÉ Welcome", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "üìö All About Your Course", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "‚úÖ Check your Creative Problem Solving skills", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                    {
                        title: "Section 1: Exploring and Investigating",
                        pages: [
                            { title: "Course Director's Introduction", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Word Cloud Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Viewing Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Interactive Reading Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Practice Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Review Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Personalisation Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Your Creative Solution", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Reflect on Your Learning", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Course Director's Summary", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Section 1 Student Feedback", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                    {
                        title: "Section 2: Generating Ideas",
                        pages: [
                            { title: "Course Director's Introduction", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Viewing Task 1", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Viewing Task 2", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Practice Task 1", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Practice Task 2", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Viewing Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Practice Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Review Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Your Creative Solution", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Reflect on Your Learning", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Course Director's Summary", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Section 2 Student Feedback", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                    {
                        title: "Section 3: Crafting and Improving",
                        pages: [
                            { title: "Course Director's Introduction", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Viewing Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Practice Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Listening Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Interactive Reading Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Review Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Empathy", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Your Creative Solution", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Refining Ideas", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Course Director's Summary", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Section 3 Student Feedback", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                    {
                        title: "Section 4: Being Persistent",
                        pages: [
                            { title: "Course Director's Introduction", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Reflection Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Viewing Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Review Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Interactive Reading Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Journal Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Practice Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Your Creative Solution", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Reflect on Your Learning", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Course Director's Summary", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Section 4 Student Feedback", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                    {
                        title: "Section 5: Sharing Ideas",
                        pages: [
                            { title: "Course Director's Introduction", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Viewing Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Practice Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Interactive Reading Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Practice Task 1", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Practice Task 2", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Review Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Survey Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Your Creative Solution", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Reflect on Your Learning", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Course Director's Summary", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Section 5 Student Feedback", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                    {
                        title: "Section 6: Reflecting Critically",
                        pages: [
                            { title: "Course Director's Introduction", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Viewing Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Review Task", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Your Challenges", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Analysing the Creative Process", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Your Creative Solution", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Course Director's Summary", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Section 6 Student Feedback", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                    {
                        title: "End of Course Assessment",
                        pages: [
                            { title: "End of Course Assessment", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                    {
                        title: "Summing Up",
                        pages: [
                            { title: "Understanding SMART Objectives", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Your Personal Development Plan", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Course Director's Summary", url: "modules/Creative_Problem_Solving/iframes/" },
                            { title: "Course Certificate", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                    {
                        title: "Journal",
                        pages: [
                            { title: "Journal", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                    {
                        title: "Resources",
                        pages: [
                            { title: "Resources", url: "modules/Creative_Problem_Solving/iframes/" },
                        ],
                    },
                ],
            },
            {
                title: "CV Writing",
                sections: [
                    {
                        title: "Getting Started",
                        pages: [
                            { title: "üòÉ Welcome", url: "modules/CV_Writing/iframes/" },
                            { title: "üìö All About Your Course", url: "modules/CV_Writing/iframes/" },
                            { title: "‚úÖ Check your CV Writing skills", url: "modules/CV_Writing/iframes/" },
                        ],
                    },
                    {
                        title: "Section 1: Understanding CVs",
                        pages: [
                            { title: "Course Director's Introduction", url: "modules/CV_Writing/iframes/" },
                            { title: "Viewing Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Reflection Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Interactive Reading Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Review Task", url: "modules/CV_Writing/iframes/" },
                            { title: "The Employer's Perspective", url: "modules/CV_Writing/iframes/" },
                            { title: "Reflect on Your Learning", url: "modules/CV_Writing/iframes/" },
                            { title: "End of Section", url: "modules/CV_Writing/iframes/" },
                            { title: "Section 1 Student Feedback", url: "modules/CV_Writing/iframes/" },
                        ],
                    },
                    {
                        title: "Section 2: Starting Your CV",
                        pages: [
                            { title: "What's in this Section?", url: "modules/CV_Writing/iframes/" },
                            { title: "Interactive Reading Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Refining your 'You List'", url: "modules/CV_Writing/iframes/" },
                            { title: "Review Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Viewing Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task 1", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task 2", url: "modules/CV_Writing/iframes/" },
                            { title: "Reflect on Your Learning", url: "modules/CV_Writing/iframes/" },
                            { title: "End of Section", url: "modules/CV_Writing/iframes/" },
                            { title: "Section 2 Student Feedback", url: "modules/CV_Writing/iframes/" },
                        ],
                    },
                    {
                        title: "Section 3: Ordering and Formatting",
                        pages: [
                            { title: "What's in this Section?", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task (Part 1)", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task (Part 2)", url: "modules/CV_Writing/iframes/" },
                            { title: "Review Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Interactive Reading Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Reflection Task", url: "modules/CV_Writing/iframes/" },
                            { title: "What to Include", url: "modules/CV_Writing/iframes/" },
                            { title: "Viewing Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Reflect on Your Learning", url: "modules/CV_Writing/iframes/" },
                            { title: "End of Section", url: "modules/CV_Writing/iframes/" },
                            { title: "Section 3 Student Feedback", url: "modules/CV_Writing/iframes/" },
                        ],
                    },
                    {
                        title: "Section 4: Tailoring Your CV",
                        pages: [
                            { title: "What's in this Section?", url: "modules/CV_Writing/iframes/" },
                            { title: "Viewing Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task 1", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task 2", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Reflection Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Checking Your CV 1", url: "modules/CV_Writing/iframes/" },
                            { title: "Interactive Reading Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Reflect on Your Learning", url: "modules/CV_Writing/iframes/" },
                            { title: "End of Section", url: "modules/CV_Writing/iframes/" },
                            { title: "Section 4 Student Feedback", url: "modules/CV_Writing/iframes/" },
                        ],
                    },
                    {
                        title: "Section 5: Writing a Cover Letter",
                        pages: [
                            { title: "What's in this Section?", url: "modules/CV_Writing/iframes/" },
                            { title: "Viewing Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Interactive Reading Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task (Part 1)", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task (Part 3)", url: "modules/CV_Writing/iframes/" },
                            { title: "Survey Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Reflection Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Reading Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Avoiding Clich√©s", url: "modules/CV_Writing/iframes/" },
                            { title: "Reflect on Your Learning", url: "modules/CV_Writing/iframes/" },
                            { title: "End of Section", url: "modules/CV_Writing/iframes/" },
                            { title: "Section 5 Student Feedback", url: "modules/CV_Writing/iframes/" },
                        ],
                    },
                    {
                        title: "Section 6: Advertising Your CV",
                        pages: [
                            { title: "What's in this Section?", url: "modules/CV_Writing/iframes/" },
                            { title: "Reading Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Practice Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Interactive Reading Task", url: "modules/CV_Writing/iframes/" },
                            { title: "Final check of Your CV", url: "modules/CV_Writing/iframes/" },
                            { title: "Reflect on Your Learning", url: "modules/CV_Writing/iframes/" },
                            { title: "End of Course Assessment Test", url: "modules/CV_Writing/iframes/" },
                            { title: "Section 6 Student Feedback", url: "modules/CV_Writing/iframes/" },
                        ],
                    },
                ],
            },
            { title: "Entrepreneurship", sections: [] },
            { title: "Job Interview Skills", sections: [] },
            { title: "Making an Impact", sections: [] },
            { title: "Personal Statement Writing", sections: [] },
            { title: "Preparing for BMAT", sections: [] },
            { title: "Preparing for LNAT", sections: [] },
            { title: "Preparing for TSA", sections: [] },
            { title: "Public Speaking", sections: [] },
            { title: "Resilience", sections: [] },
            { title: "Study Skills", sections: [] },
            { title: "University Interview Skills", sections: [] },
            { title: "Verbal Communication", sections: [] },
            { title: "Writing Skills", sections: [] },
        ];

        // ---------- STATE ------------------------------------------
        let currentCourseIdx = null;
        let currentPageIdx = null;
        let flatPages = [];

        // ---------- DOM BUILDING -----------------------------------
        const sidebarContent = document.getElementById("sidebarContent");

        function buildSidebar() {
            courses.forEach((course, cIdx) => {
                const courseDetails = document.createElement("details");
                courseDetails.className = "mb-2 group";

                const courseSummary = document.createElement("summary");
                courseSummary.className = "font-semibold cursor-pointer flex justify-between items-center text-gray-800 hover:text-blue-600";
                courseSummary.innerHTML = `${course.title} <span class="transition-transform group-open:rotate-180">‚ñæ</span>`;
                courseDetails.appendChild(courseSummary);

                course.sections.forEach((section, sIdx) => {
                    const sectionDetails = document.createElement("details");
                    sectionDetails.className = "ml-4 mt-1 mb-1 group";

                    const sectionSummary = document.createElement("summary");
                    sectionSummary.className = "cursor-pointer flex justify-between items-center text-sm text-gray-600 hover:text-blue-600";
                    sectionSummary.innerHTML = `${section.title} <span class="transition-transform group-open:rotate-180">‚ñæ</span>`;
                    sectionDetails.appendChild(sectionSummary);

                    const ul = document.createElement("ul");
                    ul.className = "list-disc ml-6 mt-1 space-y-1 text-sm";

                    section.pages.forEach((page, pIdx) => {
                        const li = document.createElement("li");
                        const btn = document.createElement("button");
                        btn.textContent = page.title;
                        btn.className = "text-left hover:underline text-gray-700 w-full";
                        btn.addEventListener("click", () => selectPage(cIdx, getFlatPageIndex(course, sIdx, pIdx)));
                        li.appendChild(btn);
                        ul.appendChild(li);
                    });
                    sectionDetails.appendChild(ul);
                    courseDetails.appendChild(sectionDetails);
                });

                sidebarContent.appendChild(courseDetails);
            });
        }

        function getFlatPageIndex(course, sectionIdx, pageIdx) {
            let index = 0;
            course.sections.forEach((sec, s) => {
                if (s < sectionIdx) index += sec.pages.length;
            });
            return index + pageIdx;
        }

        // ---------- PAGE SELECTION & NAV ----------------------------
        const frame = document.getElementById("contentFrame");
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");
        const pageTitle = document.getElementById("pageTitle");

        function selectPage(courseIdx, pageIdx) {
            if (courseIdx !== currentCourseIdx) {
                currentCourseIdx = courseIdx;
                flatPages = courses[courseIdx].sections.flatMap(sec => sec.pages);
            }
            currentPageIdx = pageIdx;
            const page = flatPages[pageIdx];
            frame.src = page.url;
            pageTitle.textContent = page.title;
            updateNav();
            highlightActive(page.title);
        }

        function updateNav() {
            prevBtn.disabled = currentPageIdx <= 0;
            nextBtn.disabled = currentPageIdx >= flatPages.length - 1;
        }

        function highlightActive(title) {
            document.querySelectorAll(".active-page").forEach(el => el.classList.remove("active-page"));
            document.querySelectorAll(".active-summary").forEach(el => el.classList.remove("active-summary"));

            const btn = [...sidebarContent.querySelectorAll("button")].find(b => b.textContent === title);
            if (btn) btn.classList.add("active-page");

            let el = btn.parentElement;
            while (el && el.tagName !== "ASIDE") {
                if (el.tagName === "SUMMARY") el.classList.add("active-summary");
                el = el.parentElement;
            }
        }

        prevBtn.addEventListener("click", () => {
            if (currentPageIdx > 0) selectPage(currentCourseIdx, currentPageIdx - 1);
        });

        nextBtn.addEventListener("click", () => {
            if (currentPageIdx < flatPages.length - 1) selectPage(currentCourseIdx, currentPageIdx + 1);
        });

        // INIT ----------------------------------------------------------------
        buildSidebar();
        sidebarContent.querySelector("details")?.setAttribute("open", "");
    </script>
</body>

</html>